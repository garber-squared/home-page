---
layout: post
title: "Opening a file with open(ARGV.first) vs declaring a variable"
pubDate: 2016-12-07
author: "Alexander Garber"
tags: [ruby, code, study]
---

<div dir="ltr" style="text-align: left;" trbidi="on">
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">I am working through Exercise 20
    of&nbsp;<a href="https://learnrubythehardway.org/book/ex20.html" rel="nofollow noreferrer" style="border: 0px; color: #005999; cursor: pointer; margin: 0px; padding: 0px; text-decoration: none;">Learn Ruby the Hard Way</a>, and am trying
    to make sense of the difference in output between defining the variable "current_file" and simply using open(ARGV.first):</div>
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">Here is the input file test.txt:</div>
  <pre class="lang-rb prettyprint prettyprinted" style="background-color: #eff0f1; border: 0px; color: #393318; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;"><code style="border: 0px; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; margin: 0px; padding: 0px; white-space: inherit;"><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> is line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">1</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br /></span><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> is line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">2</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br /></span><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> is line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">3</span></code></pre>
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">Here is the beginning of the script:</div>
  <pre class="lang-rb prettyprint prettyprinted" style="background-color: #eff0f1; border: 0px; color: #393318; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;"><code style="border: 0px; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; margin: 0px; padding: 0px; white-space: inherit;"><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">input_file </span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">=</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> ARGV</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">.</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">first<br /><br /></span><span class="kwd" style="border: 0px; color: #101094; margin: 0px; padding: 0px;">def</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> print_a_line</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">f</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">)</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br />  puts </span><span class="str" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">"#{f.gets}"</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br /></span><span class="kwd" style="border: 0px; color: #101094; margin: 0px; padding: 0px;">end</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br /><br />current_file </span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">=</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> open</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">input_file</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">)</span></code></pre>
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">When I call the print_a_line with the
    declared variable:</div>
  <pre class="lang-rb prettyprint prettyprinted" style="background-color: #eff0f1; border: 0px; color: #393318; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;"><code style="border: 0px; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; margin: 0px; padding: 0px; white-space: inherit;"><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">print_a_line</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">current_file</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">)</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br />print_a_line</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">current_file</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">)</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br />print_a_line</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">current_file</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">)</span></code></pre>
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">Then f.gets tracks to the new line each
    time:</div>
  <pre class="lang-rb prettyprint prettyprinted" style="background-color: #eff0f1; border: 0px; color: #393318; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;"><code style="border: 0px; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; margin: 0px; padding: 0px; white-space: inherit;"><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> is line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">1</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br /></span><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> </span><span class="kwd" style="border: 0px; color: #101094; margin: 0px; padding: 0px;">in</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">2</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br /></span><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> is line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">3</span></code></pre>
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">However, if I call the function with
    ARGV.first:</div>
  <pre class="lang-rb prettyprint prettyprinted" style="background-color: #eff0f1; border: 0px; color: #393318; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;"><code style="border: 0px; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; margin: 0px; padding: 0px; white-space: inherit;"><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">print_a_line</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">open</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">ARGV</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">.</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">first</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">))</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br />print_a_line</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">open</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">ARGV</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">.</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">first</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">))</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br />print_a_line</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">open</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">ARGV</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">.</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">first</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">))</span></code></pre>
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">Then f.gets does not track to the new
    line and remains on line 1:</div>
  <pre class="lang-rb prettyprint prettyprinted" style="background-color: #eff0f1; border: 0px; color: #393318; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;"><code style="border: 0px; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; margin: 0px; padding: 0px; white-space: inherit;"><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> is line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">1</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br /></span><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> is line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">1</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br /></span><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> is line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">1</span></code></pre>
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">And the same even with input_file:</div>
  <pre class="lang-rb prettyprint prettyprinted" style="background-color: #eff0f1; border: 0px; color: #393318; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;"><code style="border: 0px; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; margin: 0px; padding: 0px; white-space: inherit;"><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">print_a_line</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">open</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">input_file</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">))</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br />print_a_line</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">open</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">input_file</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">))</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br />print_a_line</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">open</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">input_file</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">))</span></code></pre>
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">f.get still doesn't track to the next
    line:</div>
  <pre class="lang-rb prettyprint prettyprinted" style="background-color: #eff0f1; border: 0px; color: #393318; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;"><code style="border: 0px; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; margin: 0px; padding: 0px; white-space: inherit;"><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> is line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">1</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br /></span><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> is line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">1</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"><br /></span><span class="typ" style="border: 0px; color: #2b91af; margin: 0px; padding: 0px;">This</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> is line </span><span class="lit" style="border: 0px; color: #7d2727; margin: 0px; padding: 0px;">1</span></code></pre>
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">Obviously, I would declare and use
    variables -- I understand the basics of writing neat, readable code.</div>
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">My question is why does f.get track to
    the next line when the function is called with a declared variable and not track to the next line when called with the open(ARGV.first) or open(input_file)?</div>
  <div style="background-color: white; border: 0px; clear: both; color: #242729; font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; margin-bottom: 1em; padding: 0px;">Why do I have to declare the variable
    again?</div>
  <pre class="lang-rb prettyprint prettyprinted" style="background-color: #eff0f1; border: 0px; color: #393318; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; font-size: 13px; margin-bottom: 1em; max-height: 600px; overflow: auto; padding: 5px; width: auto; word-wrap: normal;"><code style="border: 0px; font-family: Consolas, Menlo, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, monospace, sans-serif; margin: 0px; padding: 0px; white-space: inherit;"><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">current_file </span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">=</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;"> open</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">(</span><span class="pln" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">input_file</span><span class="pun" style="border: 0px; color: #303336; margin: 0px; padding: 0px;">)</span></code></pre>
</div>
